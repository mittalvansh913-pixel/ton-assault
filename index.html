<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TON ASSAULT GAME</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:linear-gradient(#0a0a0a,#000);
  color:#fff;
  font-family:Arial;
  text-align:center;
}

h1{margin:10px 0;}

#hud{
  display:flex;
  justify-content:space-between;
  padding:10px 20px;
}

.hp-box{
  width:120px;
}

.bar{
  height:10px;
  background:#333;
  border-radius:5px;
  overflow:hidden;
}

.hp{
  height:100%;
  background:#00ff55;
}

.enemy-hp{background:#ff3333;}

#arena{
  position:relative;
  height:260px;
  margin-top:10px;
  background:radial-gradient(circle at center,#1a1a1a,#000);
  border-top:2px solid #222;
  border-bottom:2px solid #222;
}

.ground{
  position:absolute;
  bottom:0;
  width:100%;
  height:40px;
  background:#111;
}

.char{
  position:absolute;
  bottom:40px;
  width:110px;
  transition:transform 0.2s;
}

#player{left:40px;}
#enemy{right:40px; transform:scaleX(-1);}

.attack{transform:translateX(30px);}
.enemy-attack{transform:translateX(-30px) scaleX(-1);}

.hit{animation:shake 0.2s;}
@keyframes shake{
  0%{transform:translateX(0)}
  50%{transform:translateX(6px)}
  100%{transform:translateX(0)}
}

#effect{
  position:absolute;
  top:120px;
  left:50%;
  transform:translateX(-50%);
  font-size:32px;
  opacity:0;
}

.show{animation:boom 0.6s;}
@keyframes boom{
  0%{opacity:1; transform:translate(-50%,0) scale(1)}
  100%{opacity:0; transform:translate(-50%,-40px) scale(1.4)}
}

#controls{margin:15px;}
button{
  padding:12px 22px;
  margin:6px;
  font-size:15px;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

.attack-btn{background:#ff3b3b;color:#fff;}
.skill-btn{background:#ff9800;color:#fff;}
</style>
</head>

<body>

<h1>üî• TON ASSAULT GAME üî•</h1>

<div id="hud">
  <div class="hp-box">
    üë§ HP
    <div class="bar"><div id="php" class="hp"></div></div>
  </div>
  <div>ü™ô <span id="coins">0</span></div>
  <div class="hp-box">
    üëπ HP
    <div class="bar"><div id="ehp" class="hp enemy-hp"></div></div>
  </div>
</div>

<div id="arena">
  <img id="player" class="char"
   src="https://raw.githubusercontent.com/jakesgordon/javascript-racer/master/images/player.png">
  <img id="enemy" class="char"
   src="https://raw.githubusercontent.com/jakesgordon/javascript-racer/master/images/opponent.png">
  <div id="effect">üí•</div>
  <div class="ground"></div>
</div>

<div id="controls">
  <button class="attack-btn" onclick="attack()">‚öîÔ∏è ATTACK</button>
  <button class="skill-btn" onclick="skill()">üî• SKILL</button>
</div>

<script>
let pHP=100,eHP=100,coins=0,skillReady=true;

function update(){
  php.style.width=pHP+"%";
  ehp.style.width=eHP+"%";
  coinsEl.innerText=coins;
}
const php=document.getElementById("php");
const ehp=document.getElementById("ehp");
const coinsEl=document.getElementById("coins");
const effect=document.getElementById("effect");

function show(icon){
  effect.innerText=icon;
  effect.classList.add("show");
  setTimeout(()=>effect.classList.remove("show"),600);
}

function attack(){
  if(pHP<=0||eHP<=0) return;
  player.classList.add("attack");
  setTimeout(()=>player.classList.remove("attack"),200);
  eHP-=15; show("üí•");
  enemy.classList.add("hit");
  setTimeout(()=>enemy.classList.remove("hit"),200);
  if(eHP<=0){win(10);return;}
  setTimeout(enemyTurn,400);
  update();
}

function enemyTurn(){
  enemy.classList.add("enemy-attack");
  setTimeout(()=>enemy.classList.remove("enemy-attack"),200);
  pHP-=10;
  if(pHP<=0){lose();return;}
  update();
}

function skill(){
  if(!skillReady||pHP<=0||eHP<=0) return;
  skillReady=false;
  eHP-=35; show("üî•");
  if(eHP<=0){win(20);return;}
  update();
  setTimeout(()=>skillReady=true,4000);
}

function win(c){
  coins+=c;
  alert("üî• YOU WIN!");
  reset();
}
function lose(){
  alert("üíÄ YOU LOST!");
  reset();
}
function reset(){
  setTimeout(()=>{pHP=100;eHP=100;update();},800);
}
update();
</script>

</body>
</html>
