<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zombie Fighter</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(#2b1055,#1a043a);
  color:#fff;
  text-align:center;
}
.hidden{display:none}
.container{max-width:420px;margin:auto;padding:15px}

/* TOP BAR */
.top{
  background:rgba(0,0,0,0.4);
  border-radius:12px;
  padding:12px;
  margin-bottom:10px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.stat{font-weight:bold}

/* BARS */
.bar{
  background:#444;
  border-radius:8px;
  overflow:hidden;
  height:10px;
}
.bar div{height:100%}

/* GAME */
.game{
  background:rgba(0,0,0,0.4);
  border-radius:12px;
  padding:20px;
  margin-bottom:10px;
}
.fighters{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:48px;
}
.hp{
  font-size:12px;
}

/* BUTTONS */
button{
  padding:14px;
  border:none;
  border-radius:10px;
  font-weight:bold;
  cursor:pointer;
}
.attack{background:#e53935;color:#fff}
.heal{background:#43a047;color:#fff}
.taskbtn{background:#1e88e5;color:#fff;width:100%}

button:disabled{opacity:0.5}

/* TASKS */
.task{
  background:#222;
  border-radius:10px;
  padding:10px;
  margin-top:8px;
  font-size:14px;
}

/* TOAST */
#toast{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:#000;
  padding:10px 20px;
  border-radius:20px;
  opacity:0;
  transition:0.3s;
}
#toast.show{opacity:1}
</style>
</head>

<body>

<div class="container">

  <!-- HEADER -->
  <div class="top">
    <div class="stat">â­ Level <span id="level">1</span></div>
    <div class="stat">ğŸ’° <span id="coins">0</span></div>
    <div class="stat">ğŸ’ <span id="gems">0</span></div>
  </div>

  <!-- HP -->
  <div>
    â¤ï¸ HP: <span id="hp">100</span>/100
    <div class="bar">
      <div id="hpbar" style="width:100%;background:#e53935"></div>
    </div>
  </div>

  <!-- GAME -->
  <div class="game" id="gameArea">
    <div class="fighters">
      <div>
        ğŸ¦¸â€â™‚ï¸
        <div class="hp">You</div>
      </div>

      âš”ï¸

      <div>
        ğŸ§Ÿ
        <div class="hp" id="zhp">30/30</div>
        <div class="bar">
          <div id="zbar" style="width:100%;background:#43a047"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ACTIONS -->
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
    <button class="attack" onclick="attack()">âš”ï¸ Attack</button>
    <button class="heal" onclick="heal()">â¤ï¸ Heal (20ğŸ’°)</button>
  </div>

  <button class="taskbtn" onclick="toggleTasks()">ğŸ Tasks</button>

  <!-- TASKS -->
  <div id="tasks" class="hidden">
    <div class="task">Kill 5 Zombies (0/5) â†’ 50ğŸ’°</div>
    <div class="task">Collect 100 Coins â†’ 10ğŸ’</div>
    <div class="task">Reach Level 3 â†’ 20ğŸ’</div>
  </div>

</div>

<div id="toast"></div>

<script>
/* STATE */
let player={
  hp:100,max:100,coins:0,gems:0,level:1,damage:10,exp:0
};
let zombie={hp:30,max:30,damage:5};
let kills=0;

/* UI */
const hpEl=hp, hpbar=document.getElementById("hpbar");
const zhp=document.getElementById("zhp"), zbar=document.getElementById("zbar");

function update(){
  coins.textContent=player.coins;
  gems.textContent=player.gems;
  level.textContent=player.level;
  hp.textContent=player.hp;
  hpbar.style.width=(player.hp/player.max*100)+"%";
  zhp.textContent=zombie.hp+"/"+zombie.max;
  zbar.style.width=(zombie.hp/zombie.max*100)+"%";
}

/* GAME */
function spawnZombie(){
  zombie.max=30+player.level*10;
  zombie.hp=zombie.max;
  zombie.damage=5+player.level*2;
}

function attack(){
  zombie.hp-=player.damage+Math.floor(Math.random()*5);
  toastMsg("âš”ï¸ Hit!");
  if(zombie.hp<=0){
    kills++;
    player.coins+=10+player.level*5;
    player.exp+=20;
    toastMsg("ğŸ§Ÿ Zombie killed!");
    spawnZombie();
  }else{
    setTimeout(zombieAttack,300);
  }
  levelCheck();
  update();
}

function zombieAttack(){
  player.hp-=zombie.damage;
  toastMsg("ğŸ’¥ Zombie hit!");
  if(player.hp<=0){
    alert("Game Over");
    location.reload();
  }
  update();
}

function heal(){
  if(player.coins<20){toastMsg("âŒ Not enough coins");return;}
  player.coins-=20;
  player.hp=Math.min(player.max,player.hp+30);
  toastMsg("â¤ï¸ Healed");
  update();
}

function levelCheck(){
  if(player.exp>=player.level*100){
    player.exp=0;
    player.level++;
    player.max+=20;
    player.hp=player.max;
    player.damage+=5;
    toastMsg("â­ Level Up!");
  }
}

function toggleTasks(){
  tasks.classList.toggle("hidden");
}

function toastMsg(msg){
  toast.textContent=msg;
  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"),1500);
}

spawnZombie();
update();
</script>

</body>
</html>
