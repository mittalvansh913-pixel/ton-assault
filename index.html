<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zombie Fighter</title>

<style>
body{
margin:0;font-family:Arial;background:linear-gradient(#2b1055,#1a043a);
color:#fff;text-align:center}
.container{max-width:420px;margin:auto;padding:15px}
.top{background:rgba(0,0,0,.4);border-radius:12px;padding:12px;
display:flex;justify-content:space-between}
.stat{font-weight:bold}
.bar{background:#444;border-radius:8px;overflow:hidden;height:10px}
.bar div{height:100%}
.game{background:rgba(0,0,0,.4);border-radius:12px;padding:20px;margin:10px 0}
.fighters{font-size:48px;display:flex;justify-content:space-between}
button{padding:12px;border:none;border-radius:10px;font-weight:bold;cursor:pointer}
.attack{background:#e53935;color:#fff}
.heal{background:#43a047;color:#fff}
.earn{background:#1e88e5;color:#fff;width:100%}
.shop{background:#ff9800;color:#000;width:100%}
#toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);
background:#000;padding:10px 20px;border-radius:20px;opacity:0;transition:.3s}
#toast.show{opacity:1}
</style>
</head>

<body>
<div class="container">

<div class="top">
<div class="stat">â­ <span id="level">1</span></div>
<div class="stat">ğŸ’° <span id="coins">0</span></div>
<div class="stat">ğŸ’ <span id="gems">0</span></div>
</div>

<div>â¤ï¸ HP <span id="hp">100</span>/<span id="hpmax">100</span>
<div class="bar"><div id="hpbar" style="width:100%;background:red"></div></div>
âš¡ Energy <span id="energy">10</span>/10
<div class="bar"><div id="ebar" style="width:100%;background:cyan"></div></div>
</div>

<div class="game">
<div class="fighters">ğŸ¦¸â€â™‚ï¸ âš”ï¸ ğŸ§Ÿ</div>
<div id="zhp">30/30</div>
<div class="bar"><div id="zbar" style="width:100%;background:green"></div></div>
</div>

<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
<button class="attack" onclick="attack()">Attack</button>
<button class="heal" onclick="heal()">Heal (20ğŸ’°)</button>
</div>

<button class="earn" onclick="watchAd()">ğŸ“º Watch Ad (+20ğŸ’°)</button>
<button class="shop" onclick="spin()">ğŸ¡ Spin (1ğŸ’)</button>
<button class="shop" onclick="daily()">ğŸ Daily Bonus</button>
<button class="shop" onclick="refer()">ğŸ‘¥ Invite Friend</button>
<button class="shop" onclick="withdraw()">ğŸ¦ Withdraw</button>

</div>

<div id="toast"></div>

<script>
let player={hp:100,max:100,coins:0,gems:0,level:1,damage:10,exp:0,energy:10};
let zombie={hp:30,max:30,damage:5};
let lastAd=0,sound=true;

/* SAVE */
function save(){localStorage.setItem("zf",JSON.stringify(player))}
function load(){let d=localStorage.getItem("zf");if(d)player=JSON.parse(d)}

function update(){
coins.textContent=player.coins;
gems.textContent=player.gems;
level.textContent=player.level;
hp.textContent=player.hp;
hpmax.textContent=player.max;
energy.textContent=player.energy;
hpbar.style.width=(player.hp/player.max*100)+"%";
ebar.style.width=(player.energy/10*100)+"%";
zhp.textContent=zombie.hp+"/"+zombie.max;
zbar.style.width=(zombie.hp/zombie.max*100)+"%";
save();
}

/* GAME */
function spawn(){
zombie.max=30+player.level*10;
zombie.hp=zombie.max;
zombie.damage=5+player.level*2;
toastMsg("ğŸ§Ÿ Zombie Spawned");
}

function attack(){
if(player.energy<=0)return toastMsg("âš¡ No Energy");
player.energy--;
zombie.hp-=player.damage;
if(zombie.hp<=0){
player.coins+=10;
player.exp+=20;
spawn();
}else setTimeout(()=>player.hp-=zombie.damage,300);
levelUp();
update();
}

function heal(){
if(player.coins<20)return toastMsg("No coins");
player.coins-=20;
player.hp=Math.min(player.max,player.hp+30);
update();
}

function levelUp(){
if(player.exp>=player.level*100){
player.exp=0;player.level++;
player.max+=20;player.hp=player.max;player.damage+=5;
toastMsg("â­ Level Up");
}
}

/* ENERGY REGEN */
setInterval(()=>{
if(player.energy<10)player.energy++;
update();
},5000);

/* EARNING */
function watchAd(){
let now=Date.now();
if(now-lastAd<30000)return toastMsg("â³ Wait 30s");
lastAd=now;
player.coins+=20;
toastMsg("+20ğŸ’° Ad Reward");
update();
}

function spin(){
if(player.gems<1)return toastMsg("Need 1ğŸ’");
player.gems--;
let rewards=[10,20,50,0];
let r=rewards[Math.floor(Math.random()*rewards.length)];
player.coins+=r;
toastMsg("ğŸ¡ Won "+r+"ğŸ’°");
update();
}

function daily(){
let last=localStorage.getItem("daily")||0;
let now=Date.now();
if(now-last<86400000)return toastMsg("â³ Tomorrow");
player.coins+=50;
localStorage.setItem("daily",now);
toastMsg("ğŸ +50ğŸ’°");
update();
}

function refer(){
player.coins+=50;
toastMsg("ğŸ‘¥ Friend Joined +50ğŸ’°");
update();
}

function withdraw(){
if(player.coins<200)return toastMsg("Min 200ğŸ’°");
let r=Math.floor(player.coins*0.5);
player.coins-=r;
toastMsg("ğŸ¦ Withdraw "+r+"ğŸ’° (Demo)");
update();
}

function toastMsg(t){
toast.textContent=t;
toast.classList.add("show");
setTimeout(()=>toast.classList.remove("show"),1500);
}

load();spawn();update();
</script>
</body>
</html>
