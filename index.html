<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zombie Fighter</title>

<style>
body{
margin:0;font-family:Arial;background:linear-gradient(#2b1055,#1a043a);
color:#fff}
.container{max-width:420px;margin:auto;padding:15px;text-align:center}

/* TOP BAR */
.top{
background:rgba(0,0,0,.4);
border-radius:12px;padding:12px;
display:flex;justify-content:space-between;align-items:center
}
.stat{font-weight:bold}
.profile{cursor:pointer}

/* BARS */
.bar{background:#444;border-radius:8px;overflow:hidden;height:10px}
.bar div{height:100%}

/* GAME */
.game{
background:rgba(0,0,0,.4);
border-radius:12px;padding:20px;margin:10px 0
}
.fighters{font-size:48px;display:flex;justify-content:space-between}

/* BUTTONS */
button{
padding:12px;border:none;border-radius:10px;
font-weight:bold;cursor:pointer
}
.attack{background:#e53935;color:#fff}
.heal{background:#43a047;color:#fff}

/* SIDE MENU */
.side-menu{
position:fixed;
right:10px;
top:35%;
display:flex;
flex-direction:column;
gap:10px;
z-index:99
}
.side-btn{
width:50px;height:50px;
border-radius:50%;
background:#1e88e5;
color:#fff;
display:flex;
align-items:center;
justify-content:center;
font-size:20px;
cursor:pointer
}

/* PROFILE MODAL */
.modal{
position:fixed;
top:0;left:0;width:100%;height:100%;
background:rgba(0,0,0,.7);
display:none;
align-items:center;
justify-content:center;
z-index:200
}
.modal-box{
background:#222;
padding:20px;
border-radius:12px;
width:260px;
text-align:center
}
.modal-box input{
width:100%;
padding:8px;
border-radius:8px;
border:none;
margin:10px 0
}

/* TOAST */
#toast{
position:fixed;
bottom:20px;
left:50%;
transform:translateX(-50%);
background:#000;
padding:10px 20px;
border-radius:20px;
opacity:0;
transition:.3s;
z-index:300
}
#toast.show{opacity:1}
</style>
</head>

<body>

<div class="container">

<!-- TOP -->
<div class="top">
<div class="stat">ğŸ‘¤ <span id="playerName">Player</span></div>
<div class="stat">â­ <span id="level">1</span></div>
<div class="stat">ğŸ’° <span id="coins">0</span> | ğŸ’ <span id="gems">0</span></div>
<div class="profile" onclick="openProfile()">âš™ï¸</div>
</div>

<!-- STATS -->
<div>
â¤ï¸ HP <span id="hp">100</span>/<span id="hpmax">100</span>
<div class="bar"><div id="hpbar" style="width:100%;background:red"></div></div>
âš¡ Energy <span id="energy">10</span>/10
<div class="bar"><div id="ebar" style="width:100%;background:cyan"></div></div>
</div>

<!-- GAME -->
<div class="game">
<div class="fighters">ğŸ¦¸â€â™‚ï¸ âš”ï¸ ğŸ§Ÿ</div>
<div id="zhp">30/30</div>
<div class="bar"><div id="zbar" style="width:100%;background:green"></div></div>
</div>

<!-- ACTIONS -->
<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
<button class="attack" onclick="attack()">Attack</button>
<button class="heal" onclick="heal()">Heal (20ğŸ’°)</button>
</div>

</div>

<!-- SIDE MENU -->
<div class="side-menu">
<div class="side-btn" onclick="watchAd()">ğŸ“º</div>
<div class="side-btn" onclick="spin()">ğŸ¡</div>
<div class="side-btn" onclick="daily()">ğŸ</div>
<div class="side-btn" onclick="refer()">ğŸ‘¥</div>
<div class="side-btn" onclick="withdraw()">ğŸ¦</div>
</div>

<!-- PROFILE MODAL -->
<div class="modal" id="profileModal">
<div class="modal-box">
<h3>Profile</h3>
<input id="nameInput" placeholder="Enter name">
<button onclick="saveProfile()">Save</button>
<button onclick="closeProfile()">Close</button>
</div>
</div>

<div id="toast"></div>

<script>
let player={
name:"Player",
hp:100,max:100,
coins:0,gems:0,
level:1,damage:10,exp:0,energy:10
};
let zombie={hp:30,max:30,damage:5};
let lastAd=0;

/* SAVE */
function save(){localStorage.setItem("zf",JSON.stringify(player))}
function load(){let d=localStorage.getItem("zf");if(d)player=JSON.parse(d)}

/* UI */
function update(){
playerName.textContent=player.name;
coins.textContent=player.coins;
gems.textContent=player.gems;
level.textContent=player.level;
hp.textContent=player.hp;
hpmax.textContent=player.max;
energy.textContent=player.energy;
hpbar.style.width=(player.hp/player.max*100)+"%";
ebar.style.width=(player.energy/10*100)+"%";
zhp.textContent=zombie.hp+"/"+zombie.max;
zbar.style.width=(zombie.hp/zombie.max*100)+"%";
save();
}

/* GAME */
function spawn(){
zombie.max=30+player.level*10;
zombie.hp=zombie.max;
zombie.damage=5+player.level*2;
toastMsg("ğŸ§Ÿ Zombie Spawned");
}

function attack(){
if(player.energy<=0)return toastMsg("âš¡ No Energy");
player.energy--;
zombie.hp-=player.damage;
if(zombie.hp<=0){
player.coins+=10;
player.exp+=20;
spawn();
}else setTimeout(()=>player.hp-=zombie.damage,300);
levelUp();
update();
}

function heal(){
if(player.coins<20)return toastMsg("No coins");
player.coins-=20;
player.hp=Math.min(player.max,player.hp+30);
update();
}

function levelUp(){
if(player.exp>=player.level*100){
player.exp=0;
player.level++;
player.max+=20;
player.hp=player.max;
player.damage+=5;
toastMsg("â­ Level Up");
}
}

/* ENERGY */
setInterval(()=>{
if(player.energy<10)player.energy++;
update();
},5000);

/* EARNING */
function watchAd(){
let now=Date.now();
if(now-lastAd<30000)return toastMsg("â³ Wait 30s");
lastAd=now;
player.coins+=20;
toastMsg("+20ğŸ’° Ad");
update();
}

function spin(){
if(player.gems<1)return toastMsg("Need 1ğŸ’");
player.gems--;
let r=[10,20,50,0][Math.floor(Math.random()*4)];
player.coins+=r;
toastMsg("ğŸ¡ Won "+r+"ğŸ’°");
update();
}

function daily(){
let last=localStorage.getItem("daily")||0;
let now=Date.now();
if(now-last<86400000)return toastMsg("â³ Tomorrow");
player.coins+=50;
localStorage.setItem("daily",now);
toastMsg("ğŸ +50ğŸ’°");
update();
}

function refer(){
player.coins+=50;
toastMsg("ğŸ‘¥ Friend Joined");
update();
}

function withdraw(){
if(player.gems<10)return toastMsg("âŒ Min 10ğŸ’ required");
player.gems-=10;
toastMsg("ğŸ¦ Withdraw Requested (Demo)");
update();
}

/* PROFILE */
function openProfile(){
profileModal.style.display="flex";
nameInput.value=player.name;
}
function closeProfile(){profileModal.style.display="none"}
function saveProfile(){
player.name=nameInput.value||"Player";
closeProfile();
update();
}

/* TOAST */
function toastMsg(t){
toast.textContent=t;
toast.classList.add("show");
setTimeout(()=>toast.classList.remove("show"),1500);
}

load();spawn();update();
</script>
</body>
</html>
