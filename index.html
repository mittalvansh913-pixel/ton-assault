<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zombie Fighter</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(#2b1055,#1a043a);
  color:#fff;
  text-align:center;
}
.hidden{display:none}
.container{max-width:420px;margin:auto;padding:15px}

/* TOP BAR */
.top{
  background:rgba(0,0,0,0.4);
  border-radius:12px;
  padding:12px;
  margin-bottom:10px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.stat{font-weight:bold}

/* BARS */
.bar{
  background:#444;
  border-radius:8px;
  overflow:hidden;
  height:10px;
}
.bar div{height:100%}

/* GAME */
.game{
  background:rgba(0,0,0,0.4);
  border-radius:12px;
  padding:20px;
  margin-bottom:10px;
}
.fighters{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:48px;
}
.hp{
  font-size:12px;
}

/* BUTTONS */
button{
  padding:14px;
  border:none;
  border-radius:10px;
  font-weight:bold;
  cursor:pointer;
}
.attack{background:#e53935;color:#fff}
.heal{background:#43a047;color:#fff}
.taskbtn{background:#1e88e5;color:#fff;width:100%}
.shopbtn{background:#ff9800;color:#000;width:100%}

button:disabled{opacity:0.5}

/* TASKS */
.task{
  background:#222;
  border-radius:10px;
  padding:10px;
  margin-top:8px;
  font-size:14px;
}

/* TOAST */
#toast{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:#000;
  padding:10px 20px;
  border-radius:20px;
  opacity:0;
  transition:0.3s;
}
#toast.show{opacity:1}
</style>
</head>

<body>

<div class="container">

  <!-- HEADER -->
  <div class="top">
    <div class="stat">‚≠ê Level <span id="level">1</span></div>
    <div class="stat">üí∞ <span id="coins">0</span></div>
    <div class="stat">üíé <span id="gems">0</span></div>
  </div>

  <!-- HP -->
  <div>
    ‚ù§Ô∏è HP: <span id="hp">100</span>/<span id="hpmax">100</span>
    <div class="bar">
      <div id="hpbar" style="width:100%;background:#e53935"></div>
    </div>
  </div>

  <!-- GAME -->
  <div class="game">
    <div class="fighters">
      <div>ü¶∏‚Äç‚ôÇÔ∏è</div>
      ‚öîÔ∏è
      <div>
        üßü
        <div class="hp" id="zhp">30/30</div>
        <div class="bar">
          <div id="zbar" style="width:100%;background:#43a047"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ACTIONS -->
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
    <button class="attack" onclick="attack()">‚öîÔ∏è Attack</button>
    <button class="heal" onclick="heal()">‚ù§Ô∏è Heal (20üí∞)</button>
  </div>

  <button class="taskbtn" onclick="dailyReward()">üéÅ Daily Reward</button>
  <button class="shopbtn" onclick="upgradeDamage()">üó° Upgrade Damage (50üí∞)</button>
  <button class="shopbtn" onclick="upgradeHP()">‚ù§Ô∏è Upgrade HP (50üí∞)</button>

</div>

<div id="toast"></div>

<script>
/* ===== STATE ===== */
let player = {
  hp:100, max:100,
  coins:0, gems:0,
  level:1, damage:10,
  exp:0
};
let zombie = {};
let kills = 0;

/* ===== SAVE / LOAD ===== */
function saveGame(){
  localStorage.setItem("zombie_save", JSON.stringify({player, kills}));
}
function loadGame(){
  const d = localStorage.getItem("zombie_save");
  if(d){
    const data = JSON.parse(d);
    player = data.player;
    kills = data.kills;
  }
}

/* ===== UI ===== */
function update(){
  coins.textContent = player.coins;
  gems.textContent = player.gems;
  level.textContent = player.level;
  hp.textContent = player.hp;
  hpmax.textContent = player.max;
  hpbar.style.width = (player.hp/player.max*100)+"%";
  zhp.textContent = zombie.hp+"/"+zombie.max;
  zbar.style.width = (zombie.hp/zombie.max*100)+"%";
  saveGame();
}

/* ===== ZOMBIE ===== */
function spawnZombie(){
  const boss = player.level % 5 === 0;
  zombie.max = boss ? 150 : 30 + player.level*10;
  zombie.hp = zombie.max;
  zombie.damage = boss ? 20 : 5 + player.level*2;
  toastMsg(boss ? "üëπ BOSS ZOMBIE!" : "üßü Zombie Appeared");
}

/* ===== ATTACK ===== */
function attack(){
  let crit = Math.random() < 0.2;
  let dmg = player.damage + Math.floor(Math.random()*5);
  if(crit) dmg *= 2;

  zombie.hp -= dmg;
  toastMsg(crit ? "‚ö° CRITICAL HIT!" : "‚öîÔ∏è Hit");

  if(zombie.hp <= 0){
    kills++;
    player.coins += (player.level % 5 === 0) ? 50 : 10;
    player.exp += 20;
    spawnZombie();
  } else {
    setTimeout(zombieAttack,300);
  }
  levelCheck();
  update();
}

function zombieAttack(){
  player.hp -= zombie.damage;
  toastMsg("üí• Zombie Hit");
  if(player.hp <= 0){
    alert("Game Over");
    localStorage.removeItem("zombie_save");
    location.reload();
  }
  update();
}

/* ===== HEAL ===== */
function heal(){
  if(player.coins < 20){ toastMsg("‚ùå Coins low"); return; }
  player.coins -= 20;
  player.hp = Math.min(player.max, player.hp+30);
  toastMsg("‚ù§Ô∏è Healed");
  update();
}

/* ===== LEVEL ===== */
function levelCheck(){
  if(player.exp >= player.level*100){
    player.exp = 0;
    player.level++;
    player.max += 20;
    player.hp = player.max;
    player.damage += 5;
    toastMsg("‚≠ê LEVEL UP!");
  }
}

/* ===== UPGRADES ===== */
function upgradeDamage(){
  if(player.coins < 50){ toastMsg("‚ùå Need 50 coins"); return; }
  player.coins -= 50;
  player.damage += 5;
  toastMsg("üó° Damage Up!");
  update();
}

function upgradeHP(){
  if(player.coins < 50){ toastMsg("‚ùå Need 50 coins"); return; }
  player.coins -= 50;
  player.max += 20;
  player.hp = player.max;
  toastMsg("‚ù§Ô∏è HP Up!");
  update();
}

/* ===== DAILY ===== */
function dailyReward(){
  const last = localStorage.getItem("daily_reward") || 0;
  const now = Date.now();
  if(now - last < 86400000){
    toastMsg("‚è≥ Come tomorrow");
    return;
  }
  player.coins += 50;
  localStorage.setItem("daily_reward", now);
  toastMsg("üéÅ +50 Coins");
  update();
}

/* ===== TOAST ===== */
function toastMsg(msg){
  toast.textContent = msg;
  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"),1500);
}

/* ===== INIT ===== */
loadGame();
spawnZombie();
update();
</script>

</body>
                                     </html>
